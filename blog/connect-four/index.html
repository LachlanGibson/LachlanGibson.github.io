<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><link href="/navbar/icons/LG_logo.svg" rel="icon"><meta content="width=device-width,initial-scale=1" name="viewport"><meta content="#000000" name="theme-color"><link href="/manifest.json" rel="manifest"><title>Connect Four</title><link href="https://fonts.googleapis.com" rel="preconnect"><link href="https://fonts.gstatic.com" rel="preconnect" crossorigin=""><link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css2?family=Outfit&display=swap" rel="stylesheet"><script defer src="/static/js/main.afdb17b9.js"></script><link href="/static/css/main.5e87e34d.css" rel="stylesheet"><link href="https://fonts.googleapis.com" rel="preconnect"><link href="https://www.lachlangibson.dev/blog/connect-four/" rel="canonical" data-react-helmet="true"><meta content="Connect Four" data-react-helmet="true" property="og:title"><meta content="article" data-react-helmet="true" property="og:type"><meta content="A functional game of Connect Four with an AI opponent." data-react-helmet="true" property="og:description"><meta content="A functional game of Connect Four with an AI opponent." data-react-helmet="true" name="description"><meta content="en-au" data-react-helmet="true" name="language"><meta content="Lachlan Gibson" data-react-helmet="true" name="author"><meta content="https://www.lachlangibson.dev/" data-react-helmet="true" property="article:author"><meta content="https://www.lachlangibson.dev/" data-react-helmet="true" property="article:publisher"><meta content="https://www.lachlangibson.dev/blog/connect-four/" data-react-helmet="true" property="og:url"><meta content="2024-01-29" data-react-helmet="true" property="article:published_time"><meta content="2024-02-06" data-react-helmet="true" property="article:modified_time"><meta content="summary" data-react-helmet="true" name="twitter:card"><meta content="Connect Four" data-react-helmet="true" name="twitter:title"><meta content="A functional game of Connect Four with an AI opponent." data-react-helmet="true" name="twitter:description"><meta content="1200" data-react-helmet="true" property="og:image:width"><meta content="800" data-react-helmet="true" property="og:image:height"><meta content="https://www.lachlangibson.dev/images/blog/thumbnail/webp/connect-four.webp" data-react-helmet="true" property="og:image"><meta content="https://www.lachlangibson.dev/images/blog/thumbnail/webp/connect-four.webp" data-react-helmet="true" name="twitter:image"><meta content="ai, connect four, connect-four, connect 4, four up, four-in-a-row, four in a row, drop four, gravitrips, connect-four ai, artificial intelligence, minimax, minimax algorithm, alpha-beta pruning, alpha beta pruning, alpha beta, alpha-beta, softmax, dynamic programming, tree search, strategy game, decision making ai, game theory, zero-sum game, perfect information, policy, interactive game" data-react-helmet="true" name="keywords"><meta content="ai" data-react-helmet="true" property="article:tag"><meta content="connect four" data-react-helmet="true" property="article:tag"><meta content="connect-four" data-react-helmet="true" property="article:tag"><meta content="connect 4" data-react-helmet="true" property="article:tag"><meta content="four up" data-react-helmet="true" property="article:tag"><meta content="four-in-a-row" data-react-helmet="true" property="article:tag"><meta content="four in a row" data-react-helmet="true" property="article:tag"><meta content="drop four" data-react-helmet="true" property="article:tag"><meta content="gravitrips" data-react-helmet="true" property="article:tag"><meta content="connect-four ai" data-react-helmet="true" property="article:tag"><meta content="artificial intelligence" data-react-helmet="true" property="article:tag"><meta content="minimax" data-react-helmet="true" property="article:tag"><meta content="minimax algorithm" data-react-helmet="true" property="article:tag"><meta content="alpha-beta pruning" data-react-helmet="true" property="article:tag"><meta content="alpha beta pruning" data-react-helmet="true" property="article:tag"><meta content="alpha beta" data-react-helmet="true" property="article:tag"><meta content="alpha-beta" data-react-helmet="true" property="article:tag"><meta content="softmax" data-react-helmet="true" property="article:tag"><meta content="dynamic programming" data-react-helmet="true" property="article:tag"><meta content="tree search" data-react-helmet="true" property="article:tag"><meta content="strategy game" data-react-helmet="true" property="article:tag"><meta content="decision making ai" data-react-helmet="true" property="article:tag"><meta content="game theory" data-react-helmet="true" property="article:tag"><meta content="zero-sum game" data-react-helmet="true" property="article:tag"><meta content="perfect information" data-react-helmet="true" property="article:tag"><meta content="policy" data-react-helmet="true" property="article:tag"><meta content="interactive game" data-react-helmet="true" property="article:tag"><link href="https://fonts.gstatic.com" rel="preconnect"></head><body><noscript>You need to enable JavaScript to run this app.</noscript><div id="root"><nav><div><img alt="Logo for Lachlan Gibson's website" src="/navbar/icons/LG_logo.svg" id="navbar-icon"><span id="lachlan-nav-text">lachlangibson.dev</span></div><a href="/" class="">Home</a><a href="/about/" class="">About</a><a href="/blog/" class="active-link" aria-current="page">Portfolio</a></nav><main><div class="flex flex-col items-center"><h1 class="text-4xl tracking-wide my-4 text-center">Connect Four</h1><div class="flex gap-4 items-center mb-4"><div class="w-12 h-12 aspect-square bg-slate-200 overflow-hidden rounded-full relative"><img alt="Lachlan Gibson" src="/images/home/lachlan_gibson_200.webp" class="h-full"></div><div class="h-fit"><div class="tracking-wide text-xl">Lachlan Gibson</div><div class="text-sky-600 text-xs"><time datetime="2024-01-29">29 Jan 2024</time>, updated <time datetime="2024-02-06">6 Feb 2024</time></div></div><div class="relative"><button class="flex items-center whitespace-nowrap rounded bg-slate-700 p-3 text-xs font-medium uppercase leading-normal text-white transition duration-150 ease-in-out hover:bg-slate-600 focus:bg-primary-600 active:bg-slate-500 motion-reduce:transition-none" type="button" id="dropdownMenuButton1" aria-expanded="false"><svg class="h-4" fill="currentColor" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M307 34.8c-11.5 5.1-19 16.6-19 29.2v64H176C78.8 128 0 206.8 0 304C0 417.3 81.5 467.9 100.2 478.1c2.5 1.4 5.3 1.9 8.1 1.9c10.9 0 19.7-8.9 19.7-19.7c0-7.5-4.3-14.4-9.8-19.5C108.8 431.9 96 414.4 96 384c0-53 43-96 96-96h96v64c0 12.6 7.4 24.1 19 29.2s25 3 34.4-5.4l160-144c6.7-6.1 10.6-14.7 10.6-23.8s-3.8-17.7-10.6-23.8l-160-144c-9.4-8.5-22.9-10.6-34.4-5.4z"></path></svg></button></div></div></div><div class="p-0 mt-2 mb-4 mx-auto max-w-md"><div class="GameConnectFour_gameBoard__3r9i+"><div class="GameConnectFour_headerMessage__X3In4">Blue's turn</div><div class="GameConnectFour_slots__1lnjE"><div class="GameConnectFour_column__gkLpU GameConnectFour_humanTurn__hYJPl"><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div></div><div class="GameConnectFour_column__gkLpU GameConnectFour_humanTurn__hYJPl"><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div></div><div class="GameConnectFour_column__gkLpU GameConnectFour_humanTurn__hYJPl"><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div></div><div class="GameConnectFour_column__gkLpU GameConnectFour_humanTurn__hYJPl"><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div></div><div class="GameConnectFour_column__gkLpU GameConnectFour_humanTurn__hYJPl"><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div></div><div class="GameConnectFour_column__gkLpU GameConnectFour_humanTurn__hYJPl"><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div></div><div class="GameConnectFour_column__gkLpU GameConnectFour_humanTurn__hYJPl"><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div><div class="GameConnectFour_cell__F1XRr"><div class="GameConnectFour_circle__3zxEZ"></div></div></div></div></div><button class="GameConnectFour_settings__Hxbzh GameConnectFour_resetButton__nj7rp" type="button">Reset Game</button><div class="flex flex-col items-center justify-center GameConnectFour_settings__Hxbzh"><div class="text-xs font-medium text-gray-400 mt-1">AI Settings</div><div class="flex items-center justify-center gap-4 w-full m-1"><div class="flex items-center justify-center"><div class="flex flex-col items-start justify-center gap-1"><label class="relative inline-flex items-center cursor-pointer"><input class="sr-only peer" id="X-AI-switch" type="checkbox" role="switch"><div class="w-9 h-4 peer-focus:outline-none rounded-full peer bg-gray-600 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"></div><span class="ms-3 text-sm font-medium text-gray-300">Blue</span></label><label class="relative inline-flex items-center cursor-pointer"><input class="sr-only peer" id="O-AI-switch" type="checkbox" role="switch" checked><div class="w-9 h-4 peer-focus:outline-none rounded-full peer bg-gray-600 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"></div><span class="ms-3 text-sm font-medium text-gray-300">Yellow</span></label></div></div><div class="flex flex-col items-start justify-center gap-1"><label class="flex items-center justify-center" for="ai-noise"><span class="text-sm font-medium text-gray-300 w-12">Noise</span><input class="w-20" id="ai-noise" type="range" max="0.1" min="0.001" step="0.001" value="0.022"></label><div class="flex items-center"><span class="block w-12 text-sm font-medium text-gray-300">Depth</span><div class="relative flex items-center max-w-[8rem]"><button class="flex justify-center items-center bg-gray-600 rounded-s px-3 h-4 hover:bg-gray-500 disabled:hover:bg-gray-600 disabled:cursor-default" type="button" id="decrement-button">-</button><div class="bg-gray-600 border-x-0 h-4 border-gray-300 w-4 text-center text-sm block text-white"><div class="w-fit h-full m-auto flex justify-center items-center">4</div></div><button class="flex justify-center items-center bg-gray-600 rounded-e px-3 h-4 hover:bg-gray-500 disabled:hover:bg-gray-600 disabled:cursor-default" type="button" id="increment-button">+</button></div></div></div></div></div></div><div><p><a href="https://en.wikipedia.org/wiki/Connect_Four" rel="noopener noreferrer" target="_blank">Connect Four</a> is a two-player game sold by <a href="https://shop.hasbro.com/" rel="noopener noreferrer" target="_blank">Hasbro</a>, played on a 6x7 grid. Each player alternates dropping coloured discs into one of the seven columns. The discs fall to the lowest available space within the selected column. The objective is to be the first player to align four discs in a row, which can be achieved horizontally, vertically, or diagonally. The game reaches a draw if all 42 spaces are filled without either player achieving this alignment. Given these rules, Connect Four classifies as a <a href="https://en.wikipedia.org/wiki/Perfect_information" rel="noreferrer noopener" target="_blank">perfect information</a> <a href="https://en.wikipedia.org/wiki/Zero-sum_game" rel="noreferrer noopener" target="_blank">zero-sum game</a>.<br><br>As a <a href="https://en.wikipedia.org/wiki/Solved_game" rel="noopener noreferrer" target="_blank">solved game</a>, Connect Four allows the first player to always secure a win with optimal play. However, identifying the optimal move in real time for each board state using a brute-force approach, as I did with my <a href="/blog/tic-tac-toe/">Tic Tac Toe</a> AI, is not feasible in Connect Four due to the game's complexity. To address this, I programmed an AI using the <a href="https://en.wikipedia.org/wiki/Alpha%E2%80%93beta_pruning" rel="noopener noreferrer" target="_blank">minimax algorithm with alpha-beta pruning</a> for decision-making. However, unlike my approach in Tic Tac Toe, this AI does not search the entire <a href="https://en.wikipedia.org/wiki/Game_tree" rel="noopener noreferrer" target="_blank">game tree</a>. Instead, it limits its foresight to a certain number of moves and employs a heuristic to estimate the value of non-terminal board states at its maximum search depth.<br><br>The core of the heuristic lies in evaluating the difference in the number of potential four-in-a-row alignments for each player. This method was chosen based on the intuition that immediate wins and losses are identified within the search scope. At the same time, board states that preserve more opportunities for future alignments increase the likelihood of winning as the game progresses.<br><br>To introduce an element of unpredictability and to adjust the difficulty level, I incorporated random noise into the AI's value estimations at each depth. This addition means the AI might occasionally select suboptimal moves, particularly when the path to a forced win or loss is not immediately evident. Such a strategy ensures a balance between challenge and accessibility, making the AI a versatile opponent across various skill levels. Below is a Python implementation of the algorithm.</p><div style="position:relative;cursor:default;max-width:100%;padding:0;margin:0 auto;overflow-x:auto"><button style="position:absolute;top:.6rem;right:.6rem;cursor:pointer;padding:.6rem;background-color:transparent;color:#fff;border:none;border-radius:1rem;display:block;height:2.5rem;margin:.3rem 0 0"><img alt="Hide" src="/images/blog/google-foobar-challenge/minimise.svg" style="width:1rem;filter:invert(100%)"></button><button style="position:absolute;top:.6rem;right:3.1rem;cursor:pointer;padding:.6rem;background-color:transparent;color:#fff;border:none;border-radius:1rem;display:block;height:2.5rem;margin:.3rem 0 0"><img alt="Copy" src="/images/blog/google-foobar-challenge/clipboard.svg" style="width:1rem;filter:invert(100%)"></button><pre style='color:#f8f8f2;background:#272822;text-shadow:rgba(0,0,0,.3) 0 1px;font-family:Consolas,Monaco,"Andale Mono","Ubuntu Mono",monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em'><code class="language-python" style='color:#f8f8f2;background:0 0;text-shadow:rgba(0,0,0,.3) 0 1px;font-family:Consolas,Monaco,"Andale Mono","Ubuntu Mono",monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;hyphens:none'><span class="token" style="color:#66d9ef">import</span><span> copy
</span><span></span><span class="token" style="color:#66d9ef">import</span><span> random
</span>

<span></span><span class="token" style="color:#66d9ef">def</span><span> </span><span class="token" style="color:#e6db74">minimax_alphabeta</span><span class="token" style="color:#f8f8f2">(</span><span>
</span><span>    previous_board</span><span class="token" style="color:#f8f8f2">,</span><span> move</span><span class="token" style="color:#f8f8f2">,</span><span> depth</span><span class="token" style="color:#f8f8f2">,</span><span> alpha</span><span class="token" style="color:#f8f8f2">,</span><span> beta</span><span class="token" style="color:#f8f8f2">,</span><span> previous_player</span><span class="token" style="color:#f8f8f2">,</span><span> player</span><span class="token" style="color:#f8f8f2">,</span><span> noise</span><span class="token" style="color:#f8f8f2">=</span><span class="token" style="color:#ae81ff">None</span><span>
</span><span></span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>    board </span><span class="token" style="color:#f8f8f2">=</span><span> make_move</span><span class="token" style="color:#f8f8f2">(</span><span>previous_board</span><span class="token" style="color:#f8f8f2">,</span><span> move</span><span class="token" style="color:#f8f8f2">,</span><span> previous_player</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>    result </span><span class="token" style="color:#f8f8f2">=</span><span> check_win</span><span class="token" style="color:#f8f8f2">(</span><span>board</span><span class="token" style="color:#f8f8f2">,</span><span> move</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>    result_dict </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span class="token" style="color:#a6e22e">"R_wins"</span><span class="token" style="color:#f8f8f2">:</span><span> </span><span class="token" style="color:#ae81ff">1</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token" style="color:#a6e22e">"Y_wins"</span><span class="token" style="color:#f8f8f2">:</span><span> </span><span class="token" style="color:#f8f8f2">-</span><span class="token" style="color:#ae81ff">1</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token" style="color:#a6e22e">"tie"</span><span class="token" style="color:#f8f8f2">:</span><span> </span><span class="token" style="color:#ae81ff">0</span><span class="token" style="color:#f8f8f2">}</span><span>
</span><span>    </span><span class="token" style="color:#66d9ef">if</span><span> result </span><span class="token" style="color:#66d9ef">in</span><span> result_dict</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>        </span><span class="token" style="color:#66d9ef">return</span><span> result_dict</span><span class="token" style="color:#f8f8f2">[</span><span>result</span><span class="token" style="color:#f8f8f2">]</span><span>
</span><span>    </span><span class="token" style="color:#66d9ef">elif</span><span> depth </span><span class="token" style="color:#f8f8f2">==</span><span> </span><span class="token" style="color:#ae81ff">0</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>        </span><span class="token" style="color:#66d9ef">return</span><span> evaluate_board</span><span class="token" style="color:#f8f8f2">(</span><span>board</span><span class="token" style="color:#f8f8f2">)</span><span>
</span>
<span>    best_score </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#a6e22e">float</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#a6e22e">"-inf"</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#66d9ef">if</span><span> player </span><span class="token" style="color:#f8f8f2">==</span><span> </span><span class="token" style="color:#a6e22e">"R"</span><span> </span><span class="token" style="color:#66d9ef">else</span><span> </span><span class="token" style="color:#a6e22e">float</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#a6e22e">"inf"</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>    moves </span><span class="token" style="color:#f8f8f2">=</span><span> available_moves</span><span class="token" style="color:#f8f8f2">(</span><span>board</span><span class="token" style="color:#f8f8f2">)</span><span>
</span>
<span>    </span><span class="token" style="color:#66d9ef">for</span><span> move </span><span class="token" style="color:#66d9ef">in</span><span> moves</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>        nudge </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span>random</span><span class="token" style="color:#f8f8f2">.</span><span>random</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">-</span><span> </span><span class="token" style="color:#ae81ff">0.5</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">*</span><span> </span><span class="token" style="color:#ae81ff">2</span><span> </span><span class="token" style="color:#f8f8f2">*</span><span> noise </span><span class="token" style="color:#66d9ef">if</span><span> noise </span><span class="token" style="color:#66d9ef">else</span><span> </span><span class="token" style="color:#ae81ff">0</span><span>
</span><span>        score </span><span class="token" style="color:#f8f8f2">=</span><span> nudge </span><span class="token" style="color:#f8f8f2">+</span><span> minimax_alphabeta</span><span class="token" style="color:#f8f8f2">(</span><span>
</span><span>            board</span><span class="token" style="color:#f8f8f2">,</span><span> move</span><span class="token" style="color:#f8f8f2">,</span><span> depth </span><span class="token" style="color:#f8f8f2">-</span><span> </span><span class="token" style="color:#ae81ff">1</span><span class="token" style="color:#f8f8f2">,</span><span> alpha</span><span class="token" style="color:#f8f8f2">,</span><span> beta</span><span class="token" style="color:#f8f8f2">,</span><span> player</span><span class="token" style="color:#f8f8f2">,</span><span> previous_player</span><span class="token" style="color:#f8f8f2">,</span><span> noise
</span><span>        </span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>        </span><span class="token" style="color:#66d9ef">if</span><span> player </span><span class="token" style="color:#f8f8f2">==</span><span> </span><span class="token" style="color:#a6e22e">"R"</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>            best_score </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#a6e22e">max</span><span class="token" style="color:#f8f8f2">(</span><span>best_score</span><span class="token" style="color:#f8f8f2">,</span><span> score</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>            alpha </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#a6e22e">max</span><span class="token" style="color:#f8f8f2">(</span><span>alpha</span><span class="token" style="color:#f8f8f2">,</span><span> score</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>        </span><span class="token" style="color:#66d9ef">else</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>            best_score </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#a6e22e">min</span><span class="token" style="color:#f8f8f2">(</span><span>best_score</span><span class="token" style="color:#f8f8f2">,</span><span> score</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>            beta </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#a6e22e">min</span><span class="token" style="color:#f8f8f2">(</span><span>beta</span><span class="token" style="color:#f8f8f2">,</span><span> score</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>        </span><span class="token" style="color:#66d9ef">if</span><span> alpha </span><span class="token" style="color:#f8f8f2">>=</span><span> beta</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>            </span><span class="token" style="color:#66d9ef">break</span><span>
</span><span>    </span><span class="token" style="color:#66d9ef">return</span><span> best_score
</span>

<span></span><span class="token" style="color:#66d9ef">def</span><span> </span><span class="token" style="color:#e6db74">available_moves</span><span class="token" style="color:#f8f8f2">(</span><span>board</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>    </span><span class="token" style="color:#66d9ef">return</span><span> </span><span class="token" style="color:#f8f8f2">[</span><span>col_index </span><span class="token" style="color:#66d9ef">for</span><span> col_index</span><span class="token" style="color:#f8f8f2">,</span><span> col </span><span class="token" style="color:#66d9ef">in</span><span> </span><span class="token" style="color:#a6e22e">enumerate</span><span class="token" style="color:#f8f8f2">(</span><span>board</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#66d9ef">if</span><span> </span><span class="token" style="color:#66d9ef">not</span><span> col</span><span class="token" style="color:#f8f8f2">[</span><span class="token" style="color:#ae81ff">0</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">]</span><span>
</span>

<span></span><span class="token" style="color:#66d9ef">def</span><span> </span><span class="token" style="color:#e6db74">make_move</span><span class="token" style="color:#f8f8f2">(</span><span>board</span><span class="token" style="color:#f8f8f2">,</span><span> column_index</span><span class="token" style="color:#f8f8f2">,</span><span> player</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>    new_board </span><span class="token" style="color:#f8f8f2">=</span><span> copy</span><span class="token" style="color:#f8f8f2">.</span><span>deepcopy</span><span class="token" style="color:#f8f8f2">(</span><span>board</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>    </span><span class="token" style="color:#66d9ef">for</span><span> i </span><span class="token" style="color:#66d9ef">in</span><span> </span><span class="token" style="color:#a6e22e">reversed</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#a6e22e">range</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#a6e22e">len</span><span class="token" style="color:#f8f8f2">(</span><span>board</span><span class="token" style="color:#f8f8f2">[</span><span>column_index</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>        </span><span class="token" style="color:#66d9ef">if</span><span> board</span><span class="token" style="color:#f8f8f2">[</span><span>column_index</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">[</span><span>i</span><span class="token" style="color:#f8f8f2">]</span><span> </span><span class="token" style="color:#f8f8f2">==</span><span> </span><span class="token" style="color:#a6e22e">""</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>            new_board</span><span class="token" style="color:#f8f8f2">[</span><span>column_index</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">[</span><span>i</span><span class="token" style="color:#f8f8f2">]</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> player
</span><span>            </span><span class="token" style="color:#66d9ef">break</span><span>
</span><span>    </span><span class="token" style="color:#66d9ef">return</span><span> new_board
</span>

<span></span><span class="token" style="color:#66d9ef">def</span><span> </span><span class="token" style="color:#e6db74">check_win</span><span class="token" style="color:#f8f8f2">(</span><span>board</span><span class="token" style="color:#f8f8f2">,</span><span> column_index</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>    </span><span class="token" style="color:#8292a2"># find row</span><span>
</span><span>    row </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#a6e22e">next</span><span class="token" style="color:#f8f8f2">(</span><span>i </span><span class="token" style="color:#66d9ef">for</span><span> i</span><span class="token" style="color:#f8f8f2">,</span><span> cell </span><span class="token" style="color:#66d9ef">in</span><span> </span><span class="token" style="color:#a6e22e">enumerate</span><span class="token" style="color:#f8f8f2">(</span><span>board</span><span class="token" style="color:#f8f8f2">[</span><span>column_index</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#66d9ef">if</span><span> cell</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>    player </span><span class="token" style="color:#f8f8f2">=</span><span> board</span><span class="token" style="color:#f8f8f2">[</span><span>column_index</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">[</span><span>row</span><span class="token" style="color:#f8f8f2">]</span><span>
</span>
<span>    </span><span class="token" style="color:#8292a2"># check column</span><span>
</span><span>    </span><span class="token" style="color:#66d9ef">if</span><span> row </span><span class="token" style="color:#f8f8f2">&lt;=</span><span> </span><span class="token" style="color:#ae81ff">2</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>        </span><span class="token" style="color:#66d9ef">if</span><span> </span><span class="token" style="color:#a6e22e">all</span><span class="token" style="color:#f8f8f2">(</span><span>board</span><span class="token" style="color:#f8f8f2">[</span><span>column_index</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">[</span><span>row </span><span class="token" style="color:#f8f8f2">+</span><span> i</span><span class="token" style="color:#f8f8f2">]</span><span> </span><span class="token" style="color:#f8f8f2">==</span><span> player </span><span class="token" style="color:#66d9ef">for</span><span> i </span><span class="token" style="color:#66d9ef">in</span><span> </span><span class="token" style="color:#a6e22e">range</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#ae81ff">1</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token" style="color:#ae81ff">4</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>            </span><span class="token" style="color:#66d9ef">return</span><span> </span><span class="token string-interpolation" style="color:#a6e22e">f"</span><span class="token string-interpolation interpolation" style="color:#f8f8f2">{</span><span class="token string-interpolation interpolation">player</span><span class="token string-interpolation interpolation" style="color:#f8f8f2">}</span><span class="token string-interpolation" style="color:#a6e22e"> wins"</span><span>
</span><span>    </span><span class="token" style="color:#8292a2"># check row</span><span>
</span><span>    </span><span class="token" style="color:#66d9ef">if</span><span> </span><span class="token" style="color:#a6e22e">any</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#a6e22e">all</span><span class="token" style="color:#f8f8f2">(</span><span>board</span><span class="token" style="color:#f8f8f2">[</span><span>col </span><span class="token" style="color:#f8f8f2">+</span><span> i</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">[</span><span>row</span><span class="token" style="color:#f8f8f2">]</span><span> </span><span class="token" style="color:#f8f8f2">==</span><span> player </span><span class="token" style="color:#66d9ef">for</span><span> i </span><span class="token" style="color:#66d9ef">in</span><span> </span><span class="token" style="color:#a6e22e">range</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#ae81ff">4</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#66d9ef">for</span><span> col </span><span class="token" style="color:#66d9ef">in</span><span> </span><span class="token" style="color:#a6e22e">range</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#ae81ff">4</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>        </span><span class="token" style="color:#66d9ef">return</span><span> </span><span class="token string-interpolation" style="color:#a6e22e">f"</span><span class="token string-interpolation interpolation" style="color:#f8f8f2">{</span><span class="token string-interpolation interpolation">player</span><span class="token string-interpolation interpolation" style="color:#f8f8f2">}</span><span class="token string-interpolation" style="color:#a6e22e"> wins"</span><span>
</span>
<span>    </span><span class="token" style="color:#8292a2"># check diagonals</span><span>
</span><span>    count1</span><span class="token" style="color:#f8f8f2">,</span><span> count2 </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#ae81ff">0</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token" style="color:#ae81ff">0</span><span>
</span><span>    </span><span class="token" style="color:#66d9ef">for</span><span> i </span><span class="token" style="color:#66d9ef">in</span><span> </span><span class="token" style="color:#a6e22e">range</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">-</span><span class="token" style="color:#ae81ff">3</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token" style="color:#ae81ff">4</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>        </span><span class="token" style="color:#66d9ef">if</span><span> column_index </span><span class="token" style="color:#f8f8f2">+</span><span> i </span><span class="token" style="color:#f8f8f2">&lt;</span><span> </span><span class="token" style="color:#ae81ff">0</span><span> </span><span class="token" style="color:#66d9ef">or</span><span> column_index </span><span class="token" style="color:#f8f8f2">+</span><span> i </span><span class="token" style="color:#f8f8f2">>=</span><span> </span><span class="token" style="color:#a6e22e">len</span><span class="token" style="color:#f8f8f2">(</span><span>board</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>            </span><span class="token" style="color:#66d9ef">continue</span><span>
</span><span>        </span><span class="token" style="color:#66d9ef">if</span><span> row </span><span class="token" style="color:#f8f8f2">+</span><span> i </span><span class="token" style="color:#f8f8f2">>=</span><span> </span><span class="token" style="color:#ae81ff">0</span><span> </span><span class="token" style="color:#66d9ef">and</span><span> row </span><span class="token" style="color:#f8f8f2">+</span><span> i </span><span class="token" style="color:#f8f8f2">&lt;</span><span> </span><span class="token" style="color:#a6e22e">len</span><span class="token" style="color:#f8f8f2">(</span><span>board</span><span class="token" style="color:#f8f8f2">[</span><span>column_index</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>            </span><span class="token" style="color:#66d9ef">if</span><span> board</span><span class="token" style="color:#f8f8f2">[</span><span>column_index </span><span class="token" style="color:#f8f8f2">+</span><span> i</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">[</span><span>row </span><span class="token" style="color:#f8f8f2">+</span><span> i</span><span class="token" style="color:#f8f8f2">]</span><span> </span><span class="token" style="color:#f8f8f2">==</span><span> player</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>                count1 </span><span class="token" style="color:#f8f8f2">+=</span><span> </span><span class="token" style="color:#ae81ff">1</span><span>
</span><span>            </span><span class="token" style="color:#66d9ef">else</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>                count1 </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#ae81ff">0</span><span>
</span><span>        </span><span class="token" style="color:#66d9ef">if</span><span> row </span><span class="token" style="color:#f8f8f2">-</span><span> i </span><span class="token" style="color:#f8f8f2">>=</span><span> </span><span class="token" style="color:#ae81ff">0</span><span> </span><span class="token" style="color:#66d9ef">and</span><span> row </span><span class="token" style="color:#f8f8f2">-</span><span> i </span><span class="token" style="color:#f8f8f2">&lt;</span><span> </span><span class="token" style="color:#a6e22e">len</span><span class="token" style="color:#f8f8f2">(</span><span>board</span><span class="token" style="color:#f8f8f2">[</span><span>column_index</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>            </span><span class="token" style="color:#66d9ef">if</span><span> board</span><span class="token" style="color:#f8f8f2">[</span><span>column_index </span><span class="token" style="color:#f8f8f2">+</span><span> i</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">[</span><span>row </span><span class="token" style="color:#f8f8f2">-</span><span> i</span><span class="token" style="color:#f8f8f2">]</span><span> </span><span class="token" style="color:#f8f8f2">==</span><span> player</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>                count2 </span><span class="token" style="color:#f8f8f2">+=</span><span> </span><span class="token" style="color:#ae81ff">1</span><span>
</span><span>            </span><span class="token" style="color:#66d9ef">else</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>                count2 </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#ae81ff">0</span><span>
</span><span>        </span><span class="token" style="color:#66d9ef">if</span><span> count1 </span><span class="token" style="color:#f8f8f2">>=</span><span> </span><span class="token" style="color:#ae81ff">4</span><span> </span><span class="token" style="color:#66d9ef">or</span><span> count2 </span><span class="token" style="color:#f8f8f2">>=</span><span> </span><span class="token" style="color:#ae81ff">4</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>            </span><span class="token" style="color:#66d9ef">return</span><span> </span><span class="token string-interpolation" style="color:#a6e22e">f"</span><span class="token string-interpolation interpolation" style="color:#f8f8f2">{</span><span class="token string-interpolation interpolation">player</span><span class="token string-interpolation interpolation" style="color:#f8f8f2">}</span><span class="token string-interpolation" style="color:#a6e22e"> wins"</span><span>
</span>
<span>    </span><span class="token" style="color:#8292a2"># check if board is full</span><span>
</span><span>    </span><span class="token" style="color:#66d9ef">if</span><span> </span><span class="token" style="color:#a6e22e">all</span><span class="token" style="color:#f8f8f2">(</span><span>col</span><span class="token" style="color:#f8f8f2">[</span><span class="token" style="color:#ae81ff">0</span><span class="token" style="color:#f8f8f2">]</span><span> </span><span class="token" style="color:#66d9ef">for</span><span> col </span><span class="token" style="color:#66d9ef">in</span><span> board</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>        </span><span class="token" style="color:#66d9ef">return</span><span> </span><span class="token" style="color:#a6e22e">"tie"</span><span>
</span>
<span>    </span><span class="token" style="color:#66d9ef">return</span><span> </span><span class="token" style="color:#a6e22e">"in progress"</span><span>
</span>

<span></span><span class="token" style="color:#8292a2"># Generate all 69 possible win possibilities that the heuristic will check</span><span>
</span><span>win_possibilities </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">[</span><span class="token" style="color:#f8f8f2">]</span><span>
</span><span></span><span class="token" style="color:#66d9ef">for</span><span> col </span><span class="token" style="color:#66d9ef">in</span><span> </span><span class="token" style="color:#a6e22e">range</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#ae81ff">7</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>    win_possibilities </span><span class="token" style="color:#f8f8f2">+=</span><span> </span><span class="token" style="color:#f8f8f2">[</span><span>
</span><span>        </span><span class="token" style="color:#f8f8f2">[</span><span class="token" style="color:#f8f8f2">[</span><span>col</span><span class="token" style="color:#f8f8f2">,</span><span> row</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token" style="color:#f8f8f2">[</span><span>col</span><span class="token" style="color:#f8f8f2">,</span><span> row </span><span class="token" style="color:#f8f8f2">+</span><span> </span><span class="token" style="color:#ae81ff">1</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token" style="color:#f8f8f2">[</span><span>col</span><span class="token" style="color:#f8f8f2">,</span><span> row </span><span class="token" style="color:#f8f8f2">+</span><span> </span><span class="token" style="color:#ae81ff">2</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token" style="color:#f8f8f2">[</span><span>col</span><span class="token" style="color:#f8f8f2">,</span><span> row </span><span class="token" style="color:#f8f8f2">+</span><span> </span><span class="token" style="color:#ae81ff">3</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">]</span><span> </span><span class="token" style="color:#66d9ef">for</span><span> row </span><span class="token" style="color:#66d9ef">in</span><span> </span><span class="token" style="color:#a6e22e">range</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#ae81ff">3</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>    </span><span class="token" style="color:#f8f8f2">]</span><span>
</span>
<span></span><span class="token" style="color:#66d9ef">for</span><span> col </span><span class="token" style="color:#66d9ef">in</span><span> </span><span class="token" style="color:#a6e22e">range</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#ae81ff">4</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>    win_possibilities </span><span class="token" style="color:#f8f8f2">+=</span><span> </span><span class="token" style="color:#f8f8f2">[</span><span>
</span><span>        </span><span class="token" style="color:#f8f8f2">[</span><span class="token" style="color:#f8f8f2">[</span><span>col</span><span class="token" style="color:#f8f8f2">,</span><span> row</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token" style="color:#f8f8f2">[</span><span>col </span><span class="token" style="color:#f8f8f2">+</span><span> </span><span class="token" style="color:#ae81ff">1</span><span class="token" style="color:#f8f8f2">,</span><span> row</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token" style="color:#f8f8f2">[</span><span>col </span><span class="token" style="color:#f8f8f2">+</span><span> </span><span class="token" style="color:#ae81ff">2</span><span class="token" style="color:#f8f8f2">,</span><span> row</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token" style="color:#f8f8f2">[</span><span>col </span><span class="token" style="color:#f8f8f2">+</span><span> </span><span class="token" style="color:#ae81ff">3</span><span class="token" style="color:#f8f8f2">,</span><span> row</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">]</span><span> </span><span class="token" style="color:#66d9ef">for</span><span> row </span><span class="token" style="color:#66d9ef">in</span><span> </span><span class="token" style="color:#a6e22e">range</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#ae81ff">6</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>    </span><span class="token" style="color:#f8f8f2">]</span><span>
</span><span>    win_possibilities </span><span class="token" style="color:#f8f8f2">+=</span><span> </span><span class="token" style="color:#f8f8f2">[</span><span>
</span><span>        </span><span class="token" style="color:#f8f8f2">[</span><span class="token" style="color:#f8f8f2">[</span><span>col</span><span class="token" style="color:#f8f8f2">,</span><span> row</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token" style="color:#f8f8f2">[</span><span>col </span><span class="token" style="color:#f8f8f2">+</span><span> </span><span class="token" style="color:#ae81ff">1</span><span class="token" style="color:#f8f8f2">,</span><span> row </span><span class="token" style="color:#f8f8f2">+</span><span> </span><span class="token" style="color:#ae81ff">1</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token" style="color:#f8f8f2">[</span><span>col </span><span class="token" style="color:#f8f8f2">+</span><span> </span><span class="token" style="color:#ae81ff">2</span><span class="token" style="color:#f8f8f2">,</span><span> row </span><span class="token" style="color:#f8f8f2">+</span><span> </span><span class="token" style="color:#ae81ff">2</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token" style="color:#f8f8f2">[</span><span>col </span><span class="token" style="color:#f8f8f2">+</span><span> </span><span class="token" style="color:#ae81ff">3</span><span class="token" style="color:#f8f8f2">,</span><span> row </span><span class="token" style="color:#f8f8f2">+</span><span> </span><span class="token" style="color:#ae81ff">3</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">]</span><span>
</span><span>        </span><span class="token" style="color:#66d9ef">for</span><span> row </span><span class="token" style="color:#66d9ef">in</span><span> </span><span class="token" style="color:#a6e22e">range</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#ae81ff">3</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>    </span><span class="token" style="color:#f8f8f2">]</span><span>
</span><span>    win_possibilities </span><span class="token" style="color:#f8f8f2">+=</span><span> </span><span class="token" style="color:#f8f8f2">[</span><span>
</span><span>        </span><span class="token" style="color:#f8f8f2">[</span><span class="token" style="color:#f8f8f2">[</span><span class="token" style="color:#ae81ff">6</span><span> </span><span class="token" style="color:#f8f8f2">-</span><span> col</span><span class="token" style="color:#f8f8f2">,</span><span> row</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token" style="color:#f8f8f2">[</span><span class="token" style="color:#ae81ff">5</span><span> </span><span class="token" style="color:#f8f8f2">-</span><span> col</span><span class="token" style="color:#f8f8f2">,</span><span> row </span><span class="token" style="color:#f8f8f2">+</span><span> </span><span class="token" style="color:#ae81ff">1</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token" style="color:#f8f8f2">[</span><span class="token" style="color:#ae81ff">4</span><span> </span><span class="token" style="color:#f8f8f2">-</span><span> col</span><span class="token" style="color:#f8f8f2">,</span><span> row </span><span class="token" style="color:#f8f8f2">+</span><span> </span><span class="token" style="color:#ae81ff">2</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token" style="color:#f8f8f2">[</span><span class="token" style="color:#ae81ff">3</span><span> </span><span class="token" style="color:#f8f8f2">-</span><span> col</span><span class="token" style="color:#f8f8f2">,</span><span> row </span><span class="token" style="color:#f8f8f2">+</span><span> </span><span class="token" style="color:#ae81ff">3</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">]</span><span>
</span><span>        </span><span class="token" style="color:#66d9ef">for</span><span> row </span><span class="token" style="color:#66d9ef">in</span><span> </span><span class="token" style="color:#a6e22e">range</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#ae81ff">3</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>    </span><span class="token" style="color:#f8f8f2">]</span><span>
</span>
<span>evaluate_memo </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span class="token" style="color:#f8f8f2">}</span><span>
</span>

<span></span><span class="token" style="color:#66d9ef">def</span><span> </span><span class="token" style="color:#e6db74">stringify_board</span><span class="token" style="color:#f8f8f2">(</span><span>board</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>    rows </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#a6e22e">range</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#a6e22e">len</span><span class="token" style="color:#f8f8f2">(</span><span>board</span><span class="token" style="color:#f8f8f2">[</span><span class="token" style="color:#ae81ff">0</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>    cols </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#a6e22e">range</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#a6e22e">len</span><span class="token" style="color:#f8f8f2">(</span><span>board</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>    </span><span class="token" style="color:#66d9ef">return</span><span> </span><span class="token" style="color:#a6e22e">"\n"</span><span class="token" style="color:#f8f8f2">.</span><span>join</span><span class="token" style="color:#f8f8f2">(</span><span>
</span><span>        </span><span class="token" style="color:#f8f8f2">[</span><span>
</span><span>            </span><span class="token" style="color:#a6e22e">""</span><span class="token" style="color:#f8f8f2">.</span><span>join</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">[</span><span>board</span><span class="token" style="color:#f8f8f2">[</span><span>col</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">[</span><span>row</span><span class="token" style="color:#f8f8f2">]</span><span> </span><span class="token" style="color:#66d9ef">if</span><span> board</span><span class="token" style="color:#f8f8f2">[</span><span>col</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">[</span><span>row</span><span class="token" style="color:#f8f8f2">]</span><span> </span><span class="token" style="color:#66d9ef">else</span><span> </span><span class="token" style="color:#a6e22e">"_"</span><span> </span><span class="token" style="color:#66d9ef">for</span><span> col </span><span class="token" style="color:#66d9ef">in</span><span> cols</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>            </span><span class="token" style="color:#66d9ef">for</span><span> row </span><span class="token" style="color:#66d9ef">in</span><span> rows
</span><span>        </span><span class="token" style="color:#f8f8f2">]</span><span>
</span><span>    </span><span class="token" style="color:#f8f8f2">)</span><span>
</span>

<span></span><span class="token" style="color:#66d9ef">def</span><span> </span><span class="token" style="color:#e6db74">evaluate_board</span><span class="token" style="color:#f8f8f2">(</span><span>board</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>    board_string </span><span class="token" style="color:#f8f8f2">=</span><span> stringify_board</span><span class="token" style="color:#f8f8f2">(</span><span>board</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>    </span><span class="token" style="color:#66d9ef">if</span><span> board_string </span><span class="token" style="color:#66d9ef">in</span><span> evaluate_memo</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>        </span><span class="token" style="color:#66d9ef">return</span><span> evaluate_memo</span><span class="token" style="color:#f8f8f2">[</span><span>board_string</span><span class="token" style="color:#f8f8f2">]</span><span>
</span>
<span>    count </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#ae81ff">0</span><span>
</span><span>    </span><span class="token" style="color:#66d9ef">for</span><span> win_possibility </span><span class="token" style="color:#66d9ef">in</span><span> win_possibilities</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>        </span><span class="token" style="color:#66d9ef">if</span><span> </span><span class="token" style="color:#a6e22e">all</span><span class="token" style="color:#f8f8f2">(</span><span>board</span><span class="token" style="color:#f8f8f2">[</span><span>col</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">[</span><span>row</span><span class="token" style="color:#f8f8f2">]</span><span> </span><span class="token" style="color:#f8f8f2">!=</span><span> </span><span class="token" style="color:#a6e22e">"Y"</span><span> </span><span class="token" style="color:#66d9ef">for</span><span> col</span><span class="token" style="color:#f8f8f2">,</span><span> row </span><span class="token" style="color:#66d9ef">in</span><span> win_possibility</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>            count </span><span class="token" style="color:#f8f8f2">+=</span><span> </span><span class="token" style="color:#ae81ff">1</span><span>
</span><span>        </span><span class="token" style="color:#66d9ef">if</span><span> </span><span class="token" style="color:#a6e22e">all</span><span class="token" style="color:#f8f8f2">(</span><span>board</span><span class="token" style="color:#f8f8f2">[</span><span>col</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">[</span><span>row</span><span class="token" style="color:#f8f8f2">]</span><span> </span><span class="token" style="color:#f8f8f2">!=</span><span> </span><span class="token" style="color:#a6e22e">"R"</span><span> </span><span class="token" style="color:#66d9ef">for</span><span> col</span><span class="token" style="color:#f8f8f2">,</span><span> row </span><span class="token" style="color:#66d9ef">in</span><span> win_possibility</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>            count </span><span class="token" style="color:#f8f8f2">-=</span><span> </span><span class="token" style="color:#ae81ff">1</span><span>
</span><span>    evaluate_memo</span><span class="token" style="color:#f8f8f2">[</span><span>board_string</span><span class="token" style="color:#f8f8f2">]</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> count </span><span class="token" style="color:#f8f8f2">/</span><span> </span><span class="token" style="color:#a6e22e">len</span><span class="token" style="color:#f8f8f2">(</span><span>win_possibilities</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>    </span><span class="token" style="color:#66d9ef">return</span><span> evaluate_memo</span><span class="token" style="color:#f8f8f2">[</span><span>board_string</span><span class="token" style="color:#f8f8f2">]</span><span>
</span>

<span></span><span class="token" style="color:#8292a2"># Apply minimax to see scores for each move</span><span>
</span><span></span><span class="token" style="color:#66d9ef">def</span><span> </span><span class="token" style="color:#e6db74">get_move_scores</span><span class="token" style="color:#f8f8f2">(</span><span>board</span><span class="token" style="color:#f8f8f2">,</span><span> depth</span><span class="token" style="color:#f8f8f2">,</span><span> noise</span><span class="token" style="color:#f8f8f2">,</span><span> player</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>    next_player </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#a6e22e">"Y"</span><span> </span><span class="token" style="color:#66d9ef">if</span><span> player </span><span class="token" style="color:#f8f8f2">==</span><span> </span><span class="token" style="color:#a6e22e">"R"</span><span> </span><span class="token" style="color:#66d9ef">else</span><span> </span><span class="token" style="color:#a6e22e">"R"</span><span>
</span><span>    scores </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span class="token" style="color:#f8f8f2">}</span><span>
</span><span>    </span><span class="token" style="color:#66d9ef">for</span><span> move </span><span class="token" style="color:#66d9ef">in</span><span> available_moves</span><span class="token" style="color:#f8f8f2">(</span><span>board</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>        nudge </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span>random</span><span class="token" style="color:#f8f8f2">.</span><span>random</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">-</span><span> </span><span class="token" style="color:#ae81ff">0.5</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">*</span><span> </span><span class="token" style="color:#ae81ff">2</span><span> </span><span class="token" style="color:#f8f8f2">*</span><span> noise </span><span class="token" style="color:#66d9ef">if</span><span> noise </span><span class="token" style="color:#66d9ef">else</span><span> </span><span class="token" style="color:#ae81ff">0</span><span>
</span><span>        score </span><span class="token" style="color:#f8f8f2">=</span><span> nudge </span><span class="token" style="color:#f8f8f2">+</span><span> minimax_alphabeta</span><span class="token" style="color:#f8f8f2">(</span><span>
</span><span>            board</span><span class="token" style="color:#f8f8f2">,</span><span> move</span><span class="token" style="color:#f8f8f2">,</span><span> depth</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token" style="color:#a6e22e">float</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#a6e22e">"-inf"</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token" style="color:#a6e22e">float</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#a6e22e">"inf"</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">,</span><span> player</span><span class="token" style="color:#f8f8f2">,</span><span> next_player</span><span class="token" style="color:#f8f8f2">,</span><span> noise
</span><span>        </span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>        scores</span><span class="token" style="color:#f8f8f2">[</span><span>move</span><span class="token" style="color:#f8f8f2">]</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> score
</span><span>    </span><span class="token" style="color:#66d9ef">return</span><span> scores
</span>

<span>board </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">[</span><span class="token" style="color:#f8f8f2">[</span><span class="token" style="color:#a6e22e">""</span><span> </span><span class="token" style="color:#66d9ef">for</span><span> row </span><span class="token" style="color:#66d9ef">in</span><span> </span><span class="token" style="color:#a6e22e">range</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#ae81ff">6</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">]</span><span> </span><span class="token" style="color:#66d9ef">for</span><span> col </span><span class="token" style="color:#66d9ef">in</span><span> </span><span class="token" style="color:#a6e22e">range</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#ae81ff">7</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">]</span><span>
</span><span>move_sequence </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">[</span><span class="token" style="color:#ae81ff">2</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token" style="color:#ae81ff">2</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token" style="color:#ae81ff">1</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token" style="color:#ae81ff">3</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token" style="color:#ae81ff">3</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token" style="color:#ae81ff">4</span><span class="token" style="color:#f8f8f2">]</span><span>
</span><span>player </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#a6e22e">"R"</span><span>
</span><span></span><span class="token" style="color:#66d9ef">for</span><span> move </span><span class="token" style="color:#66d9ef">in</span><span> move_sequence</span><span class="token" style="color:#f8f8f2">:</span><span>
</span><span>    board </span><span class="token" style="color:#f8f8f2">=</span><span> make_move</span><span class="token" style="color:#f8f8f2">(</span><span>board</span><span class="token" style="color:#f8f8f2">,</span><span> move</span><span class="token" style="color:#f8f8f2">,</span><span> player</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>    player </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#a6e22e">"Y"</span><span> </span><span class="token" style="color:#66d9ef">if</span><span> player </span><span class="token" style="color:#f8f8f2">==</span><span> </span><span class="token" style="color:#a6e22e">"R"</span><span> </span><span class="token" style="color:#66d9ef">else</span><span> </span><span class="token" style="color:#a6e22e">"R"</span><span>
</span><span></span><span class="token" style="color:#66d9ef">print</span><span class="token" style="color:#f8f8f2">(</span><span>stringify_board</span><span class="token" style="color:#f8f8f2">(</span><span>board</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span></span><span class="token" style="color:#66d9ef">print</span><span class="token" style="color:#f8f8f2">(</span><span>player</span><span class="token" style="color:#f8f8f2">,</span><span> get_move_scores</span><span class="token" style="color:#f8f8f2">(</span><span>board</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token" style="color:#ae81ff">4</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token" style="color:#ae81ff">0</span><span class="token" style="color:#f8f8f2">,</span><span> player</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">)</span><span>
</span></code></pre></div></div></main><footer class="p-4"><div class="flex items-center justify-between"><span class="text-sm text-gray-400">© 2024 Lachlan Gibson</span><div class="m-4 h-4 flex w-20 justify-between"><a href="https://www.linkedin.com/in/lachlan-james-gibson/" rel="noopener noreferrer" target="_blank" aria-label="Visit Lachlan's LinkedIn profile" class="text-gray-500 hover:text-white p-0 m-0"><svg class="h-full" fill="currentColor" viewBox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a><a href="https://github.com/LachlanGibson" rel="noopener noreferrer" target="_blank" aria-label="Visit Lachlan's GitHub profile" class="text-gray-500 hover:text-white p-0 m-0"><svg class="h-full" fill="currentColor" viewBox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a><a href="https://scholar.google.com/citations?user=NeEMSU0AAAAJ&hl=en" rel="noopener noreferrer" target="_blank" aria-label="Visit Lachlan's Google Scholar profile" class="text-gray-500 hover:text-white p-0 m-0"><svg class="h-full" fill="currentColor" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M390.9 298.5c0 0 0 .1 .1 .1c9.2 19.4 14.4 41.1 14.4 64C405.3 445.1 338.5 512 256 512s-149.3-66.9-149.3-149.3c0-22.9 5.2-44.6 14.4-64h0c1.7-3.6 3.6-7.2 5.6-10.7c4.4-7.6 9.4-14.7 15-21.3c27.4-32.6 68.5-53.3 114.4-53.3c33.6 0 64.6 11.1 89.6 29.9c9.1 6.9 17.4 14.7 24.8 23.5c5.6 6.6 10.6 13.8 15 21.3c2 3.4 3.8 7 5.5 10.5zm26.4-18.8c-30.1-58.4-91-98.4-161.3-98.4s-131.2 40-161.3 98.4L0 202.7 256 0 512 202.7l-94.7 77.1z"></path></svg></a></div></div></footer></div></body></html>