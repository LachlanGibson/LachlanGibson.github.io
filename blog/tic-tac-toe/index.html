<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><link href="/navbar/icons/LG_logo.svg" rel="icon"><meta content="width=device-width,initial-scale=1" name="viewport"><meta content="#000000" name="theme-color"><link href="/manifest.json" rel="manifest"><title>Tic Tac Toe</title><link href="https://fonts.googleapis.com" rel="preconnect"><link href="https://fonts.gstatic.com" rel="preconnect" crossorigin=""><link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css2?family=Outfit&display=swap" rel="stylesheet"><script defer src="/static/js/main.a64c6f7c.js"></script><link href="/static/css/main.9b5749cc.css" rel="stylesheet"><link href="https://fonts.googleapis.com" rel="preconnect"><link href="https://www.lachlangibson.dev/blog/tic-tac-toe/" rel="canonical" data-react-helmet="true"><meta content="Tic Tac Toe" data-react-helmet="true" property="og:title"><meta content="article" data-react-helmet="true" property="og:type"><meta content="A functional game of tic-tac-toe with an interesting AI opponent and explanation." data-react-helmet="true" property="og:description"><meta content="A functional game of tic-tac-toe with an interesting AI opponent and explanation." data-react-helmet="true" name="description"><meta content="en-au" data-react-helmet="true" name="language"><meta content="Lachlan Gibson" data-react-helmet="true" name="author"><meta content="https://www.lachlangibson.dev/" data-react-helmet="true" property="article:author"><meta content="https://www.lachlangibson.dev/" data-react-helmet="true" property="article:publisher"><meta content="https://www.lachlangibson.dev/blog/tic-tac-toe/" data-react-helmet="true" property="og:url"><meta content="2024-01-12" data-react-helmet="true" property="article:published_time"><meta content="2024-01-12" data-react-helmet="true" property="article:modified_time"><meta content="summary" data-react-helmet="true" name="twitter:card"><meta content="Tic Tac Toe" data-react-helmet="true" name="twitter:title"><meta content="A functional game of tic-tac-toe with an interesting AI opponent and explanation." data-react-helmet="true" name="twitter:description"><meta content="1200" data-react-helmet="true" property="og:image:width"><meta content="800" data-react-helmet="true" property="og:image:height"><meta content="https://www.lachlangibson.dev/images/blog/thumbnail/webp/tic-tac-toe.webp" data-react-helmet="true" property="og:image"><meta content="https://www.lachlangibson.dev/images/blog/thumbnail/webp/tic-tac-toe.webp" data-react-helmet="true" name="twitter:image"><meta content="AI, tic-tac-toe, noughts and crosses, minimax, softmax, dynamic programming, tree search, zero-sum game, perfect information, policy" data-react-helmet="true" name="keywords"><meta content="AI" data-react-helmet="true" property="article:tag"><meta content="tic-tac-toe" data-react-helmet="true" property="article:tag"><meta content="noughts and crosses" data-react-helmet="true" property="article:tag"><meta content="minimax" data-react-helmet="true" property="article:tag"><meta content="softmax" data-react-helmet="true" property="article:tag"><meta content="dynamic programming" data-react-helmet="true" property="article:tag"><meta content="tree search" data-react-helmet="true" property="article:tag"><meta content="zero-sum game" data-react-helmet="true" property="article:tag"><meta content="perfect information" data-react-helmet="true" property="article:tag"><meta content="policy" data-react-helmet="true" property="article:tag"><link href="https://fonts.gstatic.com" rel="preconnect"></head><body><noscript>You need to enable JavaScript to run this app.</noscript><div id="root"><nav><div><img alt="Logo for Lachlan Gibson's website" src="/navbar/icons/LG_logo.svg" id="navbar-icon"><span id="lachlan-nav-text">lachlangibson.dev</span></div><a href="/" class="">Home</a><a href="/about/" class="">About</a><a href="/blog/" class="active-link" aria-current="page">Blog</a></nav><main><div class="flex flex-col items-center"><h1 class="text-4xl tracking-wide my-4 text-center">Tic Tac Toe</h1><div class="flex gap-4 items-center mb-4"><div class="w-12 h-12 aspect-square bg-slate-200 overflow-hidden rounded-full relative"><img alt="Lachlan Gibson" src="/images/home/lachlan_gibson_200.webp" class="h-full"></div><div class="h-fit"><div class="tracking-wide text-xl">Lachlan Gibson</div><div class="text-sky-600 text-xs"><time datetime="2024-01-12">12 January 2024</time></div></div><div class="relative"><button class="flex items-center whitespace-nowrap rounded bg-slate-700 p-3 text-xs font-medium uppercase leading-normal text-white transition duration-150 ease-in-out hover:bg-slate-600 focus:bg-primary-600 active:bg-slate-500 motion-reduce:transition-none" type="button" aria-expanded="false" id="dropdownMenuButton1"><svg fill="currentColor" class="h-4" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M307 34.8c-11.5 5.1-19 16.6-19 29.2v64H176C78.8 128 0 206.8 0 304C0 417.3 81.5 467.9 100.2 478.1c2.5 1.4 5.3 1.9 8.1 1.9c10.9 0 19.7-8.9 19.7-19.7c0-7.5-4.3-14.4-9.8-19.5C108.8 431.9 96 414.4 96 384c0-53 43-96 96-96h96v64c0 12.6 7.4 24.1 19 29.2s25 3 34.4-5.4l160-144c6.7-6.1 10.6-14.7 10.6-23.8s-3.8-17.7-10.6-23.8l-160-144c-9.4-8.5-22.9-10.6-34.4-5.4z"></path></svg></button></div></div></div><div class="bg-slate-700 p-2 mt-2 mb-4 mx-auto max-w-md rounded-xl"><div class="GameTicTacToe_winner__jX6pV">Player X's turn</div><div class="GameTicTacToe_board__8pYyq"><div class="GameTicTacToe_cell__vM9qJ undefined" data-hover="X"></div><div class="GameTicTacToe_cell__vM9qJ undefined" data-hover="X"></div><div class="GameTicTacToe_cell__vM9qJ undefined" data-hover="X"></div><div class="GameTicTacToe_cell__vM9qJ undefined" data-hover="X"></div><div class="GameTicTacToe_cell__vM9qJ undefined" data-hover="X"></div><div class="GameTicTacToe_cell__vM9qJ undefined" data-hover="X"></div><div class="GameTicTacToe_cell__vM9qJ undefined" data-hover="X"></div><div class="GameTicTacToe_cell__vM9qJ undefined" data-hover="X"></div><div class="GameTicTacToe_cell__vM9qJ undefined" data-hover="X"></div></div><div class="flex items-center justify-center"><div class="GameTicTacToe_checkboxDiv__Su8QS"><label class="relative inline-flex items-center cursor-pointer"><input id="X-AI-switch" type="checkbox" class="sr-only peer" role="switch"><div class="w-9 h-4 peer-focus:outline-none rounded-full peer bg-gray-600 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all border-gray-600 peer-checked:bg-blue-600"></div><span class="ms-3 text-sm font-mediumtext-gray-300">X AI</span></label><label class="relative inline-flex items-center cursor-pointer"><input id="O-AI-switch" type="checkbox" class="sr-only peer" role="switch" checked><div class="w-9 h-4 peer-focus:outline-none rounded-full peer bg-gray-600 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all border-gray-600 peer-checked:bg-blue-600"></div><span class="ms-3 text-sm font-medium text-gray-300">O AI</span></label></div><button class="text-white focus:ring-4 font-medium rounded-lg text-sm px-5 py-2.5 bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-blue-800" type="button">Reset</button></div><div class="mx-auto text-center text-sm font-medium text-gray-300">Precise â†” Chaotic</div><label class="GameTicTacToe_aiDifficulty__Yzs0I" for="X-ai-difficulty"><div class="flex items-center justify-center"><input id="X-ai-difficulty" type="range" max="1" min="0.01" step="0.01" value="0.1"><span class="ms-3 text-sm font-medium text-gray-300">X</span></div></label><label class="GameTicTacToe_aiDifficulty__Yzs0I" for="O-ai-difficulty"><div class="flex items-center justify-center"><input id="O-ai-difficulty" type="range" max="1" min="0.01" step="0.01" value="0.1"><span class="ms-3 text-sm font-medium text-gray-300">O</span></div></label></div><div class="overflow-x-auto"><p><a href="https://en.wikipedia.org/wiki/Tic-tac-toe" rel="noreferrer noopener" target="_blank">Tic-tac-toe</a>, also known as noughts and crosses, is a simple two-player game played on a 3x3 grid. Each player alternates marking a space in the grid with their symbol: the first player uses 'X' and the second 'O'. The goal is to be the first to get three of their symbols in a row, column, or diagonal. The game is a draw if all nine squares are filled and no player has achieved this goal. Under these rules, tic tac toe is a <a href="https://en.wikipedia.org/wiki/Perfect_information" rel="noreferrer noopener" target="_blank">perfect information</a> <a href="https://en.wikipedia.org/wiki/Zero-sum_game" rel="noreferrer noopener" target="_blank">zero-sum game</a>.<br><br>It is possible to calculate an upper bound on the total number of achievable unique board states as <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>3</mn><mn>9</mn></msup><mo>=</mo><mn>19683</mn></mrow><annotation encoding="application/x-tex">3^9=19683</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8141em"></span><span class="mord"><span class="mord">3</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8141em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">19683</span></span></span></span></span>, since there are nine squares, each with three possible states: empty, X, or O. However, many of these states are unreachable, such as those where two players have three in a row simultaneously, or where the total number of Xs is not equal to or one more than the number of Os. Therefore, the actual number of unique board states is only <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5478</mn></mrow><annotation encoding="application/x-tex">5478</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">5478</span></span></span></span></span>. This makes it feasible for the computer to use a brute force approach to explore all possibilities when calculating the optimal move for each board state. A typical approach to solving a two-player zero-sum game is finding the <a href="https://en.wikipedia.org/wiki/Nash_equilibrium" rel="noreferrer noopener" target="_blank">Nash equilibrium</a> using the <a href="https://en.wikipedia.org/wiki/Minimax" rel="noreferrer noopener" target="_blank">minimax</a> algorithm, which identifies the optimal move for each player, assuming the opponent also plays optimally. This involves recursively exploring all possible moves and their outcomes, with player X aiming to maximise the score and player O aiming to minimise it. Scores are assigned to each board state: a win for X as <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7278em;vertical-align:-.0833em"></span><span class="mord">+</span><span class="mord">1</span></span></span></span></span>, a win for O as <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7278em;vertical-align:-.0833em"></span><span class="mord">âˆ’</span><span class="mord">1</span></span></span></span></span>, and a draw as <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">0</span></span></span></span></span>.<br><br>In tic-tac-toe, both players choosing moves this way always results in a draw. However, optimal play by one player can depend on the other player's strategy, and many human players do not choose moves optimally. To make the game more interesting, I implemented an AI using a <em>Softmax-based probabilistic variant of the minimax algorithm</em>, where the AI considers actions as if they are taken randomly, with probabilities based on the expected scores. More specifically, the log probability of a move is proportional to its expected score, meaning the probability of a move is calculated using the <a href="https://en.wikipedia.org/wiki/Softmax_function" rel="noreferrer noopener" target="_blank">softmax function</a> with a temperature parameter. This means that moves with higher expected scores are more likely to be chosen, but not every time. The temperature parameter controls the randomness of the AI's play or its expectation of the player's play. A lower temperature means the AI follows the minimax algorithm more closely, while a higher temperature makes all moves more equally likely.<br><br>To compute the expected resulting score of a move, the AI needs to predict how its opponent will play. Therefore, the AI actually utilises two temperature parameters, one for choosing its own moves, and the other for how it models the other player's strategy. Let's get into the details of the mathematics and the algorithm. For a vector <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">x</mi></mrow><annotation encoding="application/x-tex">\mathbf{x}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4444em"></span><span class="mord mathbf">x</span></span></span></span></span> with components <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">x_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.5806em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3117em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></span> and a temperature <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.13889em">T</span></span></span></span></span>, the softmax function is</p><div data-testid="react-katex"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>Softmax</mtext><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">,</mo><mi>T</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><msup><mi>e</mi><mrow><msub><mi>x</mi><mi>i</mi></msub><mi mathvariant="normal">/</mi><mi>T</mi></mrow></msup><mrow><munder><mo>âˆ‘</mo><mi>j</mi></munder><msup><mi>e</mi><mrow><msub><mi>x</mi><mi>j</mi></msub><mi mathvariant="normal">/</mi><mi>T</mi></mrow></msup></mrow></mfrac><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">\text{Softmax}(x_i, T) = \frac{e^{x_i / T}}{\sum_j e^{x_j / T}}.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord text"><span class="mord">Softmax</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3117em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal" style="margin-right:.13889em">T</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:2.7209em;vertical-align:-1.1559em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.565em"><span style="top:-2.2799em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.162em"><span style="top:-2.4003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:.4358em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8301em"><span style="top:-3.0051em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3281em"><span style="top:-2.357em;margin-left:0;margin-right:.0714em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:.2819em"><span></span></span></span></span></span></span><span class="mord mtight">/</span><span class="mord mathnormal mtight" style="margin-right:.13889em">T</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.888em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3281em"><span style="top:-2.357em;margin-left:0;margin-right:.0714em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span><span class="mord mtight">/</span><span class="mord mathnormal mtight" style="margin-right:.13889em">T</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.1559em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord">.</span></span></span></span></span></div><p>This function normalises the vector so that all probabilitis are strictly positive and sum to 1 (try prove it yourself by adding the components). The probability, <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.13889em">P</span></span></span></span></span>, that player, <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">P</mi></mrow><annotation encoding="application/x-tex">\mathcal{P}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathcal" style="margin-right:.08222em">P</span></span></span></span></span>, choosed to move to the board state, <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.07153em">C</span></span></span></span></span> from the board state <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.05017em">B</span></span></span></span></span> is</p><div data-testid="react-katex"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="normal">âˆ€</mi><mi>C</mi><mo>âˆˆ</mo><mi mathvariant="script">C</mi><mo stretchy="false">(</mo><mi>B</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mtext>Â </mtext><mi>P</mi><mo stretchy="false">(</mo><mi>C</mi><mi mathvariant="normal">âˆ£</mi><mi mathvariant="script">P</mi><mo stretchy="false">)</mo><mo>=</mo><mtext>Softmax</mtext><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mo>âˆ’</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mi mathvariant="script">P</mi></msup><mi>S</mi><mo stretchy="false">(</mo><mi>C</mi><mo separator="true">,</mo><mn>1</mn><mo>âˆ’</mo><mi mathvariant="script">P</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><msub><mi>T</mi><mi mathvariant="script">P</mi></msub><mo stretchy="false">)</mo><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">\forall C\in\mathcal{C}(B),~ P(C|\mathcal{P})=\text{Softmax}((-1)^\mathcal{P}S(C,1-\mathcal{P}), T_\mathcal{P}),</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7335em;vertical-align:-.0391em"></span><span class="mord">âˆ€</span><span class="mord mathnormal" style="margin-right:.07153em">C</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathcal" style="margin-right:.05834em">C</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:.05017em">B</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace nobreak">Â </span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal" style="margin-right:.13889em">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:.07153em">C</span><span class="mord">âˆ£</span><span class="mord mathcal" style="margin-right:.08222em">P</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:1.1413em;vertical-align:-.25em"></span><span class="mord text"><span class="mord">Softmax</span></span><span class="mopen">((</span><span class="mord">âˆ’</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8913em"><span style="top:-3.113em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathcal mtight" style="margin-right:.08222em">P</span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:.07153em">C</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord">1</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathcal" style="margin-right:.08222em">P</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.1389em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathcal mtight" style="margin-right:.08222em">P</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span></span></span></span></span></div><p>where <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">C</mi><mo stretchy="false">(</mo><mi>B</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{C}(B)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathcal" style="margin-right:.05834em">C</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:.05017em">B</span><span class="mclose">)</span></span></span></span></span> is the set of all board states that can be reached in one move from <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.05017em">B</span></span></span></span></span>, <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">P</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\mathcal{P}=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathcal" style="margin-right:.08222em">P</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">0</span></span></span></span></span> when it is player X's turn, and <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">P</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\mathcal{P}=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathcal" style="margin-right:.08222em">P</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span></span> when it is player O's turn. <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.05764em">S</span></span></span></span></span> is the expected score given a board state and whos turn it is not. If the game is over then the score is <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7278em;vertical-align:-.0833em"></span><span class="mord">+</span><span class="mord">1</span></span></span></span></span> if X wins, <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7278em;vertical-align:-.0833em"></span><span class="mord">âˆ’</span><span class="mord">1</span></span></span></span></span> if O wins, and <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">0</span></span></span></span></span> if it is a draw. Otherwise, we can calculate the expected score as</p><div data-testid="react-katex"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>S</mi><mo stretchy="false">(</mo><mi>B</mi><mo separator="true">,</mo><mi mathvariant="script">P</mi><mo stretchy="false">)</mo><mo>=</mo><munder><mo>âˆ‘</mo><mrow><mi>C</mi><mo>âˆˆ</mo><mi mathvariant="script">C</mi><mo stretchy="false">(</mo><mi>B</mi><mo stretchy="false">)</mo></mrow></munder><mi>P</mi><mo stretchy="false">(</mo><mi>C</mi><mi mathvariant="normal">âˆ£</mi><mi mathvariant="script">P</mi><mo stretchy="false">)</mo><mi>S</mi><mo stretchy="false">(</mo><mi>C</mi><mo separator="true">,</mo><mn>1</mn><mo>âˆ’</mo><mi mathvariant="script">P</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">S(B,\mathcal{P})=\sum_{C\in\mathcal{C}(B)}P(C|\mathcal{P})S(C,1-\mathcal{P})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:.05017em">B</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathcal" style="margin-right:.08222em">P</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:2.566em;vertical-align:-1.516em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em"><span style="top:-1.809em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:.07153em">C</span><span class="mrel mtight">âˆˆ</span><span class="mord mathcal mtight" style="margin-right:.05834em">C</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:.05017em">B</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.05em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.516em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal" style="margin-right:.13889em">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:.07153em">C</span><span class="mord">âˆ£</span><span class="mord mathcal" style="margin-right:.08222em">P</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:.07153em">C</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord">1</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathcal" style="margin-right:.08222em">P</span><span class="mclose">)</span></span></span></span></span></div><p>These two expressions provide a recursive relationship for calculating the expected score of any board state. The figure below illustrates an exmaple where player X is playing less randomly than player O with <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mn>0</mn></msub><mo>=</mo><mn>0.2</mn></mrow><annotation encoding="application/x-tex">T_0=0.2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3011em"><span style="top:-2.55em;margin-left:-.1389em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">0.2</span></span></span></span></span> and <span data-testid="react-katex"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mn>1</mn></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">T_1=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3011em"><span style="top:-2.55em;margin-left:-.1389em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span></span>.</p><div class="overflow-auto mx-auto my-4 max-w-fit bg-slate-600 rounded-lg" style="height:470px;cursor:default"><div class="rd3t-tree-container rd3t-grabbable"><style>.rd3t-tree-container{width:100%;height:100%}.rd3t-grabbable{cursor:move;cursor:grab;cursor:-moz-grab;cursor:-webkit-grab}.rd3t-grabbable:active{cursor:grabbing;cursor:-moz-grabbing;cursor:-webkit-grabbing}.rd3t-node{cursor:pointer;fill:#777;stroke:#000;stroke-width:2}.rd3t-leaf-node{cursor:pointer;fill:transparent;stroke:#000;stroke-width:1}.rd3t-label__title{fill:#000;stroke:none;font-weight:bolder}.rd3t-label__attributes{fill:#777;stroke:none;font-weight:bolder;font-size:smaller}.rd3t-link{fill:none;stroke:#000}</style><svg class="rd3t-svg rd3t-svg-90f92f1a-6012-4cf3-95f7-5799ac5463b4" height="100%" width="100%"><g class="rd3t-g rd3t-g-3dc56e03-0632-40ea-a14d-67a872145b93" transform="translate(150,65) scale(1)"><path d="M0,0L-70,120" class="rd3t-link" style="opacity:1"></path><path d="M0,0L0,120" class="rd3t-link" style="opacity:1"></path><path d="M0,0L70,120" class="rd3t-link" style="opacity:1"></path><path d="M-70,120L-105,240" class="rd3t-link" style="opacity:1"></path><path d="M-70,120L-35,240" class="rd3t-link" style="opacity:1"></path><path d="M70,120L35,240" class="rd3t-link" style="opacity:1"></path><path d="M70,120L105,240" class="rd3t-link" style="opacity:1"></path><path d="M-105,240L-105,360" class="rd3t-link" style="opacity:1"></path><path d="M-35,240L-35,360" class="rd3t-link" style="opacity:1"></path><path d="M35,240L35,360" class="rd3t-link" style="opacity:1"></path><g class="rd3t-node" transform="translate(0,0)" id="6eb398e0-4859-4412-ac0f-1508ee4093b6" style="opacity:1"><g><rect fill="white" height="80" rx="10" stroke-width="2" width="60" x="-30" y="-50"></rect><text stroke="transparent" y="-30" fill="black" stroke-width="1" text-anchor="middle">0.9813</text><text stroke="transparent" y="-55" fill="#c7405e" stroke-width="0.5" text-anchor="middle"></text><svg fill="black" stroke-width="0.5" x="-25" y="-25"><line stroke="black" x1="16.6" x2="16.6" y1="0" y2="50"></line><line stroke="black" x1="33.3" x2="33.3" y1="0" y2="50"></line><line stroke="black" x1="0" x2="50" y1="16.7" y2="16.7"></line><line stroke="black" x1="0" x2="50" y1="33.3" y2="33.3"></line><text stroke="transparent" y="14" x="2.7">X</text><text stroke="transparent" y="14" x="19.2">X</text><text stroke="transparent" y="14" x="36"></text><text stroke="transparent" y="30.7" x="2.7">O</text><text stroke="transparent" y="30.7" x="19.2">O</text><text stroke="transparent" y="30.7" x="36"></text><text stroke="transparent" y="47.4" x="2.7">X</text><text stroke="transparent" y="47.4" x="19.2">O</text><text stroke="transparent" y="47.4" x="36"></text></svg></g></g><g class="rd3t-node" transform="translate(-70,120)" id="f508af36-d413-474c-8891-fb3d09dd4023" style="opacity:1"><g><rect fill="white" height="80" rx="10" stroke-width="2" width="60" x="-30" y="-50"></rect><text stroke="transparent" y="-30" fill="black" stroke-width="1" text-anchor="middle">0.2689</text><text stroke="transparent" y="-55" fill="#c7405e" stroke-width="0.5" text-anchor="middle">2.52%</text><svg fill="black" stroke-width="0.5" x="-25" y="-25"><line stroke="black" x1="16.6" x2="16.6" y1="0" y2="50"></line><line stroke="black" x1="33.3" x2="33.3" y1="0" y2="50"></line><line stroke="black" x1="0" x2="50" y1="16.7" y2="16.7"></line><line stroke="black" x1="0" x2="50" y1="33.3" y2="33.3"></line><text stroke="transparent" y="14" x="2.7">X</text><text stroke="transparent" y="14" x="19.2">X</text><text stroke="transparent" y="14" x="36"></text><text stroke="transparent" y="30.7" x="2.7">O</text><text stroke="transparent" y="30.7" x="19.2">O</text><text stroke="transparent" y="30.7" x="36">X</text><text stroke="transparent" y="47.4" x="2.7">X</text><text stroke="transparent" y="47.4" x="19.2">O</text><text stroke="transparent" y="47.4" x="36"></text></svg></g></g><g class="rd3t-leaf-node" transform="translate(0,120)" id="ad0cb3ff-c68c-49f1-9134-9d752458f032" style="opacity:1"><g><rect fill="white" height="80" rx="10" stroke-width="2" width="60" x="-30" y="-50"></rect><text stroke="transparent" y="-30" fill="black" stroke-width="1" text-anchor="middle">1</text><text stroke="transparent" y="-55" fill="#c7405e" stroke-width="0.5" text-anchor="middle">97.46%</text><svg fill="black" stroke-width="0.5" x="-25" y="-25"><line stroke="black" x1="16.6" x2="16.6" y1="0" y2="50"></line><line stroke="black" x1="33.3" x2="33.3" y1="0" y2="50"></line><line stroke="black" x1="0" x2="50" y1="16.7" y2="16.7"></line><line stroke="black" x1="0" x2="50" y1="33.3" y2="33.3"></line><text stroke="transparent" y="14" x="2.7">X</text><text stroke="transparent" y="14" x="19.2">X</text><text stroke="transparent" y="14" x="36">X</text><text stroke="transparent" y="30.7" x="2.7">O</text><text stroke="transparent" y="30.7" x="19.2">O</text><text stroke="transparent" y="30.7" x="36"></text><text stroke="transparent" y="47.4" x="2.7">X</text><text stroke="transparent" y="47.4" x="19.2">O</text><text stroke="transparent" y="47.4" x="36"></text></svg></g></g><g class="rd3t-node" transform="translate(70,120)" id="2a762a1c-f3e1-4306-a613-4d53b1b42786" style="opacity:1"><g><rect fill="white" height="80" rx="10" stroke-width="2" width="60" x="-30" y="-50"></rect><text stroke="transparent" y="-30" fill="black" stroke-width="1" text-anchor="middle">-0.7311</text><text stroke="transparent" y="-55" fill="#c7405e" stroke-width="0.5" text-anchor="middle">0.02%</text><svg fill="black" stroke-width="0.5" x="-25" y="-25"><line stroke="black" x1="16.6" x2="16.6" y1="0" y2="50"></line><line stroke="black" x1="33.3" x2="33.3" y1="0" y2="50"></line><line stroke="black" x1="0" x2="50" y1="16.7" y2="16.7"></line><line stroke="black" x1="0" x2="50" y1="33.3" y2="33.3"></line><text stroke="transparent" y="14" x="2.7">X</text><text stroke="transparent" y="14" x="19.2">X</text><text stroke="transparent" y="14" x="36"></text><text stroke="transparent" y="30.7" x="2.7">O</text><text stroke="transparent" y="30.7" x="19.2">O</text><text stroke="transparent" y="30.7" x="36"></text><text stroke="transparent" y="47.4" x="2.7">X</text><text stroke="transparent" y="47.4" x="19.2">O</text><text stroke="transparent" y="47.4" x="36">X</text></svg></g></g><g class="rd3t-node" transform="translate(-105,240)" id="a91dafb4-29d0-4c96-a427-a93e601d3a2f" style="opacity:1"><g><rect fill="white" height="80" rx="10" stroke-width="2" width="60" x="-30" y="-50"></rect><text stroke="transparent" y="-30" fill="black" stroke-width="1" text-anchor="middle">0</text><text stroke="transparent" y="-55" fill="#c7405e" stroke-width="0.5" text-anchor="middle">73.11%</text><svg fill="black" stroke-width="0.5" x="-25" y="-25"><line stroke="black" x1="16.6" x2="16.6" y1="0" y2="50"></line><line stroke="black" x1="33.3" x2="33.3" y1="0" y2="50"></line><line stroke="black" x1="0" x2="50" y1="16.7" y2="16.7"></line><line stroke="black" x1="0" x2="50" y1="33.3" y2="33.3"></line><text stroke="transparent" y="14" x="2.7">X</text><text stroke="transparent" y="14" x="19.2">X</text><text stroke="transparent" y="14" x="36">O</text><text stroke="transparent" y="30.7" x="2.7">O</text><text stroke="transparent" y="30.7" x="19.2">O</text><text stroke="transparent" y="30.7" x="36">X</text><text stroke="transparent" y="47.4" x="2.7">X</text><text stroke="transparent" y="47.4" x="19.2">O</text><text stroke="transparent" y="47.4" x="36"></text></svg></g></g><g class="rd3t-node" transform="translate(-35,240)" id="69aa897d-b24f-47b7-99ed-c100654cf6e5" style="opacity:1"><g><rect fill="white" height="80" rx="10" stroke-width="2" width="60" x="-30" y="-50"></rect><text stroke="transparent" y="-30" fill="black" stroke-width="1" text-anchor="middle">1</text><text stroke="transparent" y="-55" fill="#c7405e" stroke-width="0.5" text-anchor="middle">26.89%</text><svg fill="black" stroke-width="0.5" x="-25" y="-25"><line stroke="black" x1="16.6" x2="16.6" y1="0" y2="50"></line><line stroke="black" x1="33.3" x2="33.3" y1="0" y2="50"></line><line stroke="black" x1="0" x2="50" y1="16.7" y2="16.7"></line><line stroke="black" x1="0" x2="50" y1="33.3" y2="33.3"></line><text stroke="transparent" y="14" x="2.7">X</text><text stroke="transparent" y="14" x="19.2">X</text><text stroke="transparent" y="14" x="36"></text><text stroke="transparent" y="30.7" x="2.7">O</text><text stroke="transparent" y="30.7" x="19.2">O</text><text stroke="transparent" y="30.7" x="36">X</text><text stroke="transparent" y="47.4" x="2.7">X</text><text stroke="transparent" y="47.4" x="19.2">O</text><text stroke="transparent" y="47.4" x="36">O</text></svg></g></g><g class="rd3t-node" transform="translate(35,240)" id="33e1831f-7e64-4e5a-adef-67b4144064b9" style="opacity:1"><g><rect fill="white" height="80" rx="10" stroke-width="2" width="60" x="-30" y="-50"></rect><text stroke="transparent" y="-30" fill="black" stroke-width="1" text-anchor="middle">0</text><text stroke="transparent" y="-55" fill="#c7405e" stroke-width="0.5" text-anchor="middle">26.89%</text><svg fill="black" stroke-width="0.5" x="-25" y="-25"><line stroke="black" x1="16.6" x2="16.6" y1="0" y2="50"></line><line stroke="black" x1="33.3" x2="33.3" y1="0" y2="50"></line><line stroke="black" x1="0" x2="50" y1="16.7" y2="16.7"></line><line stroke="black" x1="0" x2="50" y1="33.3" y2="33.3"></line><text stroke="transparent" y="14" x="2.7">X</text><text stroke="transparent" y="14" x="19.2">X</text><text stroke="transparent" y="14" x="36">O</text><text stroke="transparent" y="30.7" x="2.7">O</text><text stroke="transparent" y="30.7" x="19.2">O</text><text stroke="transparent" y="30.7" x="36"></text><text stroke="transparent" y="47.4" x="2.7">X</text><text stroke="transparent" y="47.4" x="19.2">O</text><text stroke="transparent" y="47.4" x="36">X</text></svg></g></g><g class="rd3t-leaf-node" transform="translate(105,240)" id="966ca257-38c9-4ef6-848c-dd9a557619fa" style="opacity:1"><g><rect fill="white" height="80" rx="10" stroke-width="2" width="60" x="-30" y="-50"></rect><text stroke="transparent" y="-30" fill="black" stroke-width="1" text-anchor="middle">-1</text><text stroke="transparent" y="-55" fill="#c7405e" stroke-width="0.5" text-anchor="middle">73.11%</text><svg fill="black" stroke-width="0.5" x="-25" y="-25"><line stroke="black" x1="16.6" x2="16.6" y1="0" y2="50"></line><line stroke="black" x1="33.3" x2="33.3" y1="0" y2="50"></line><line stroke="black" x1="0" x2="50" y1="16.7" y2="16.7"></line><line stroke="black" x1="0" x2="50" y1="33.3" y2="33.3"></line><text stroke="transparent" y="14" x="2.7">X</text><text stroke="transparent" y="14" x="19.2">X</text><text stroke="transparent" y="14" x="36"></text><text stroke="transparent" y="30.7" x="2.7">O</text><text stroke="transparent" y="30.7" x="19.2">O</text><text stroke="transparent" y="30.7" x="36">O</text><text stroke="transparent" y="47.4" x="2.7">X</text><text stroke="transparent" y="47.4" x="19.2">O</text><text stroke="transparent" y="47.4" x="36">X</text></svg></g></g><g class="rd3t-leaf-node" transform="translate(-105,360)" id="d91a66ae-5491-4498-a9d9-290af089a0b6" style="opacity:1"><g><rect fill="white" height="80" rx="10" stroke-width="2" width="60" x="-30" y="-50"></rect><text stroke="transparent" y="-30" fill="black" stroke-width="1" text-anchor="middle">0</text><text stroke="transparent" y="-55" fill="#c7405e" stroke-width="0.5" text-anchor="middle">100%</text><svg fill="black" stroke-width="0.5" x="-25" y="-25"><line stroke="black" x1="16.6" x2="16.6" y1="0" y2="50"></line><line stroke="black" x1="33.3" x2="33.3" y1="0" y2="50"></line><line stroke="black" x1="0" x2="50" y1="16.7" y2="16.7"></line><line stroke="black" x1="0" x2="50" y1="33.3" y2="33.3"></line><text stroke="transparent" y="14" x="2.7">X</text><text stroke="transparent" y="14" x="19.2">X</text><text stroke="transparent" y="14" x="36">O</text><text stroke="transparent" y="30.7" x="2.7">O</text><text stroke="transparent" y="30.7" x="19.2">O</text><text stroke="transparent" y="30.7" x="36">X</text><text stroke="transparent" y="47.4" x="2.7">X</text><text stroke="transparent" y="47.4" x="19.2">O</text><text stroke="transparent" y="47.4" x="36">X</text></svg></g></g><g class="rd3t-leaf-node" transform="translate(-35,360)" id="c4d475f1-0ad5-419d-8209-f43debcb5c43" style="opacity:1"><g><rect fill="white" height="80" rx="10" stroke-width="2" width="60" x="-30" y="-50"></rect><text stroke="transparent" y="-30" fill="black" stroke-width="1" text-anchor="middle">1</text><text stroke="transparent" y="-55" fill="#c7405e" stroke-width="0.5" text-anchor="middle">100%</text><svg fill="black" stroke-width="0.5" x="-25" y="-25"><line stroke="black" x1="16.6" x2="16.6" y1="0" y2="50"></line><line stroke="black" x1="33.3" x2="33.3" y1="0" y2="50"></line><line stroke="black" x1="0" x2="50" y1="16.7" y2="16.7"></line><line stroke="black" x1="0" x2="50" y1="33.3" y2="33.3"></line><text stroke="transparent" y="14" x="2.7">X</text><text stroke="transparent" y="14" x="19.2">X</text><text stroke="transparent" y="14" x="36">X</text><text stroke="transparent" y="30.7" x="2.7">O</text><text stroke="transparent" y="30.7" x="19.2">O</text><text stroke="transparent" y="30.7" x="36">X</text><text stroke="transparent" y="47.4" x="2.7">X</text><text stroke="transparent" y="47.4" x="19.2">O</text><text stroke="transparent" y="47.4" x="36">O</text></svg></g></g><g class="rd3t-leaf-node" transform="translate(35,360)" id="809f0ee6-b334-42bc-b785-341046d9dc25" style="opacity:1"><g><rect fill="white" height="80" rx="10" stroke-width="2" width="60" x="-30" y="-50"></rect><text stroke="transparent" y="-30" fill="black" stroke-width="1" text-anchor="middle">0</text><text stroke="transparent" y="-55" fill="#c7405e" stroke-width="0.5" text-anchor="middle">100%</text><svg fill="black" stroke-width="0.5" x="-25" y="-25"><line stroke="black" x1="16.6" x2="16.6" y1="0" y2="50"></line><line stroke="black" x1="33.3" x2="33.3" y1="0" y2="50"></line><line stroke="black" x1="0" x2="50" y1="16.7" y2="16.7"></line><line stroke="black" x1="0" x2="50" y1="33.3" y2="33.3"></line><text stroke="transparent" y="14" x="2.7">X</text><text stroke="transparent" y="14" x="19.2">X</text><text stroke="transparent" y="14" x="36">O</text><text stroke="transparent" y="30.7" x="2.7">O</text><text stroke="transparent" y="30.7" x="19.2">O</text><text stroke="transparent" y="30.7" x="36">X</text><text stroke="transparent" y="47.4" x="2.7">X</text><text stroke="transparent" y="47.4" x="19.2">O</text><text stroke="transparent" y="47.4" x="36">X</text></svg></g></g></g></svg></div></div><figcaption>The top board is the initial board state and it is X's turn. The expected score of each board state is shown above each baord. The probability of each move is shown as a percentage above each node in the tree. X, with a temperature of 0.2, is more likely to choose better moves than O which chooses with a temperature of 1.</figcaption><div style="position:relative;cursor:pointer;max-width:fit-content;padding:0;margin:0 auto;overflow-x:auto"><button style="position:absolute;top:.6rem;right:.6rem;cursor:pointer;padding:.6rem;background-color:transparent;color:#fff;border:none;border-radius:1rem;display:none;height:2.5rem;margin:.3rem 0 0"><img alt="Hide" src="/images/blog/google-foobar-challenge/minimise.svg" style="width:1rem;filter:invert(100%)"></button><button style="position:absolute;top:.6rem;right:3.1rem;cursor:pointer;padding:.6rem;background-color:transparent;color:#fff;border:none;border-radius:1rem;display:none;height:2.5rem;margin:.3rem 0 0"><img alt="Copy" src="/images/blog/google-foobar-challenge/clipboard.svg" style="width:1rem;filter:invert(100%)"></button><pre style='color:#f8f8f2;background:#272822;text-shadow:rgba(0,0,0,.3) 0 1px;font-family:Consolas,Monaco,"Andale Mono","Ubuntu Mono",monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em'><code class="language-python" style='color:#f8f8f2;background:0 0;text-shadow:rgba(0,0,0,.3) 0 1px;font-family:Consolas,Monaco,"Andale Mono","Ubuntu Mono",monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;hyphens:none'><span class="token" style="color:#f8f8f2">-</span><span class="token" style="color:#f8f8f2">-</span><span class="token" style="color:#f8f8f2">-</span><span> Reveal Code </span><span class="token" style="color:#f8f8f2">-</span><span class="token" style="color:#f8f8f2">-</span><span class="token" style="color:#f8f8f2">-</span></code></pre></div></div></main><footer class="p-4"><div class="flex items-center justify-between"><span class="text-sm text-gray-400">Â© 2024 Lachlan Gibson</span><div class="m-4 h-4 flex gap-4 justify-center w-fit"><a href="https://www.linkedin.com/in/lachlan-james-gibson/" rel="noopener noreferrer" target="_blank" aria-label="Visit Lachlan's LinkedIn profile" class="text-gray-500 hover:text-white p-0 m-0"><svg fill="currentColor" class="h-full" viewBox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a><a href="https://github.com/LachlanGibson" rel="noopener noreferrer" target="_blank" aria-label="Visit Lachlan's GitHub profile" class="text-gray-500 hover:text-white p-0 m-0"><svg fill="currentColor" class="h-full" viewBox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a><a href="https://scholar.google.com/citations?user=NeEMSU0AAAAJ&hl=en" rel="noopener noreferrer" target="_blank" aria-label="Visit Lachlan's Google Scholar profile" class="text-gray-500 hover:text-white p-0 m-0"><svg fill="currentColor" class="h-full" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M390.9 298.5c0 0 0 .1 .1 .1c9.2 19.4 14.4 41.1 14.4 64C405.3 445.1 338.5 512 256 512s-149.3-66.9-149.3-149.3c0-22.9 5.2-44.6 14.4-64h0c1.7-3.6 3.6-7.2 5.6-10.7c4.4-7.6 9.4-14.7 15-21.3c27.4-32.6 68.5-53.3 114.4-53.3c33.6 0 64.6 11.1 89.6 29.9c9.1 6.9 17.4 14.7 24.8 23.5c5.6 6.6 10.6 13.8 15 21.3c2 3.4 3.8 7 5.5 10.5zm26.4-18.8c-30.1-58.4-91-98.4-161.3-98.4s-131.2 40-161.3 98.4L0 202.7 256 0 512 202.7l-94.7 77.1z"></path></svg></a></div></div></footer></div></body></html>